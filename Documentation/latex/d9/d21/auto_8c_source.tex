\subsection{auto.\+c}
\label{auto_8c_source}\index{src/auto.\+c@{src/auto.\+c}}

\begin{DoxyCode}
00001 
00013 \textcolor{preprocessor}{#include <main.h>}
00014 \textcolor{preprocessor}{#include "drive.h"}
00015 \textcolor{preprocessor}{#include "auton.h"}
00016 
00017 \textcolor{comment}{/*}
00018 \textcolor{comment}{ * Runs the user autonomous code. This function will be started in its own task with the default}
00019 \textcolor{comment}{ * priority and stack size whenever the robot is enabled via the Field Management System or the}
00020 \textcolor{comment}{ * VEX Competition Switch in the autonomous mode. If the robot is disabled or communications is}
00021 \textcolor{comment}{ * lost, the autonomous task will be stopped by the kernel. Re-enabling the robot will restart}
00022 \textcolor{comment}{ * the task, not re-start it from where it left off.}
00023 \textcolor{comment}{ *}
00024 \textcolor{comment}{ * Code running in the autonomous task cannot access information from the VEX Joystick. However,}
00025 \textcolor{comment}{ * the autonomous function can be invoked from another task if a VEX Competition Switch is not}
00026 \textcolor{comment}{ * available, and it can access joystick information if called in this way.}
00027 \textcolor{comment}{ *}
00028 \textcolor{comment}{ * The autonomous task may exit, unlike operatorControl() which should never exit. If it does}
00029 \textcolor{comment}{ * so, the robot will await a switch to another mode or disable/enable cycle.}
00030 \textcolor{comment}{ */}
00031 \textcolor{keywordtype}{void} autonomous() \{
00032 
00033   routine = near;
00034 
00035   \textcolor{keywordflow}{if}(routine == near) \{
00036     nearRoutine();
00037   \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if}(routine == far) \{
00038     farRoutine();
00039   \}
00040 
00041 
00042 \}
00043 
00044 \textcolor{keywordtype}{void} nearRoutine() \{
00045   \textcolor{comment}{//fire up the flywheels}
00046   flywheelSet(70);
00047   taskDelay(4000);
00048   intakeSet(forward);
00049   taskDelay(1800);
00050   motorStopAll();
00051 
00052   \textcolor{comment}{//drive for bottom flag}
00053   motorSet(MOTOR_BACK_LEFT, MAX_SPEED / 2);
00054   motorSet(MOTOR_BACK_RIGHT, MIN_SPEED / 2);
00055   motorSet(MOTOR_FRONT_RIGHT, MIN_SPEED / 2 + 30);
00056   motorSet(MOTOR_FRONT_LEFT, MIN_SPEED / 2);
00057   taskDelay(2000);
00058   robotStop();
00059   taskDelay(500);
00060 
00061   \textcolor{comment}{//prepare for tele-op}
00062   motorSet(MOTOR_BACK_LEFT, -MAX_SPEED / 2);
00063   motorSet(MOTOR_BACK_RIGHT, -MIN_SPEED / 2);
00064   motorSet(MOTOR_FRONT_RIGHT, -MIN_SPEED / 2);
00065   motorSet(MOTOR_FRONT_LEFT, -MIN_SPEED / 2);
00066   taskDelay(1500);
00067   robotStop();
00068 \}
00069 
00070 \textcolor{keywordtype}{void} farRoutine() \{
00071   flywheelSet(120);
00072   taskDelay(4000);
00073   intakeSet(forward);
00074   taskDelay(1800);
00075   motorStopAll();
00076   \}
\end{DoxyCode}
